<script>

    function ifAccessDo(callback) {
        const access_token = localStorage.getItem('token');
        if (!access_token) 
        { window.location.href = "/"; }
        else {
            fetch("/users/me")
            .then(response => response.json())
            .then( response => 
                {
                    console.log(response)
                    if (!response.hasOwnProperty('username')) {
                        window.location.href = "/";
                    }
                    else {
                        if (typeof callback == "function")
                            callback();
                    }
                })
        }
    }
    
</script>